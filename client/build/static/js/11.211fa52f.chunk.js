(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{714:function(e,t,a){e.exports={projectMainHome:"style_projectMainHome__106Ep",projectMainHeading:"style_projectMainHeading__O8eWr",projectMainSubdetails:"style_projectMainSubdetails__1sp6i",filter:"style_filter__2K-le",projectMainHomeNav:"style_projectMainHomeNav__T-Dq4",detailsGridWrapper:"style_detailsGridWrapper__2lnEU",grid:"style_grid__38gr7",detForm:"style_detForm__dGhR3","input-field":"style_input-field__102CP",map:"style_map__1U8wy",usersList:"style_usersList__6esaX",Modal:"style_Modal__1QYVS",ModalRoles:"style_ModalRoles__2m-_S",Overlay:"style_Overlay__2iO32","waves-effect":"style_waves-effect__HlB0u","Dropdown-control":"style_Dropdown-control__NyZbN",defaultList:"style_defaultList__2vVke",rolesGrid:"style_rolesGrid__3D4td","project-main-home":"style_project-main-home__1HqMP",dashboard:"style_dashboard__16XE8"}},885:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(15),l=a(17),s=a(16),i=a(0),o=a.n(i),c=a(22),p=a(49),d=(a(181),a(63)),u=a(88),m=(a(260),a(32)),h=a(6),f={name:"",street:"",city:"",zip:"",state:"",location:"",projectDescription:"",createdby:"",lastupdate:"",estimatestart:"",estimatend:"",users:[],pendingRegistrations:[],lat:"",lng:"",flag:!1,viewUser:[],isOpen:!1},g=a(720),b=a(831),v=a(113),y=a(255),E=a(724),j=a.n(E),O=function(e,t,a,n,r,l){if("create-project"===t.params.id){var s=Object(h.a)(Object(h.a)({},e),{},{users:[l.ID],userID:l.ID});e.lat||e.lng?(void 0===e.createdby&&(s.createdby=l.Name),delete s.flag,delete s.viewUser,delete s.isOpen,console.log(l),a(s,l),r.push("/dashboard/list")):j.a.get("https://open.mapquestapi.com/geocoding/v1/address?key=8BMAbnYiw1lNi8wGGywrZzYwkoT3SrwT&location=".concat(e.location)).then(function(t){if(void 0!==t.data.results){var n=t.data.results[0].locations[0].latLng,i=n.lat,o=n.lng;delete s.flag,delete s.viewUser,delete s.isOpen,""!==e.lat&&""!==e.lng||(s.lat=i,s.lng=o),void 0===e.createdby&&(s.createdby=l.Name),a(s,l),r.push("/dashboard/list")}})}else if(e.lat||e.lng){var i=Object(h.a)(Object(h.a)({},e),{},{lastupdate:Date.now()});delete i.flag,delete i.viewUser,delete i.isOpen,n(i)}else j.a.get("https://open.mapquestapi.com/geocoding/v1/address?key=8BMAbnYiw1lNi8wGGywrZzYwkoT3SrwT&location=".concat(e.location)).then(function(t){if(void 0!==t.data){var a=t.data.results[0].locations[0].latLng,r=a.lat,l=a.lng,s=Object(h.a)({},e);delete s.flag,delete s.viewUser,delete s.isOpen,""!==e.lat&&""!==e.lng||(s.lat=r,s.lng=l),n(s)}})},x=function(e,t,a){return new Promise(function(n,r){a.flag?a.flag&&j.a.get("https://open.mapquestapi.com/geocoding/v1/reverse?key=8BMAbnYiw1lNi8wGGywrZzYwkoT3SrwT&location=".concat(e,",").concat(t,"&includeRoadMetadata=true&includeNearestIntersection=true")).then(function(e){if(void 0!==e.data.results[0]){var t=e.data.results[0].locations[0],a=t.street,r=t.adminArea3,l=t.postalCode,s=t.adminArea5;n({street:a,adminArea3:r,postalCode:l,adminArea5:s})}}):r({msg:"not Authorized"})})},C=(a(715),a(716)),w=a(848),N=a.n(w),R=a(868),S=a(245).a.remoteConfig(),D=function(e){e.text;return o.a.createElement("div",{style:{width:24,height:24,color:"red"}},o.a.createElement(g.Icon,{size:"100%",icon:R.location,style:{position:"relative",top:"-22px",right:"13px"}}))},_=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).componentWillMount=function(){S.fetchAndActivate().then(function(){var t=S.getValue("GOOGLE_MAP_KEY");e.setState(Object(h.a)(Object(h.a)({},e.state),{},{key:t._value}))}).catch(function(e){console.error(e)})},e.componentWillReceiveProps=function(t){if(""!==t.location||""!==t.lat&&""!==t.lng)if(t.lat)e.setState(Object(h.a)(Object(h.a)({},e.state),{},{center:{lat:t.lat,lng:t.lng},loading:!1,lat:t.lat,lng:t.lng}));else if(e.props.location!==t.location){var a=t.location;j()({method:"GET",url:"https://open.mapquestapi.com/geocoding/v1/address",params:{key:"8BMAbnYiw1lNi8wGGywrZzYwkoT3SrwT",location:a}}).then(function(t){if(void 0!==t.data.results[0]){var a=t.data.results[0].locations[0].latLng,n=a.lat,r=a.lng;e.setState(Object(h.a)(Object(h.a)({},e.state),{},{center:{lat:n,lng:r},loading:!1,lat:n,lng:r}))}})}else e.setState(Object(h.a)(Object(h.a)({},e.state),{},{loading:!1,lat:t.lat,lng:t.lng}))},e.state={lng:null,lat:null,center:{lng:74.326297,lat:31.519582},dcenter:{lng:74.326297,lat:31.519582},zoom:14,loading:!1,key:null,location:""},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{height:"280px",width:"100%"}},this.state.loading?"loading":o.a.createElement(N.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_GOOGLE_MAP_KEY||"AIzaSyDvqSD7IVx8FkmKJ7kpHyxZzKpJ2HARMBw"},defaultCenter:this.state.dcenter,center:this.state.center,defaultZoom:this.state.zoom,onClick:function(t){var a=t.lat,n=t.lng;return e.props.handleMarker(a,n)},options:{fullscreenControl:!1}},o.a.createElement(D,{lat:this.state.lat,lng:this.state.lng,text:"My Marker"})))}}]),a}(i.Component),k=a(714),A=a.n(k),M=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:A.a.grid},o.a.createElement("h5",null,"General"),o.a.createElement("form",{className:A.a.detForm,onSubmit:function(e){return e.preventDefault()}},o.a.createElement("div",{className:"input-field"},o.a.createElement("p",{htmlFor:"name",style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}},"Name"),o.a.createElement(C.a,{size:"default",id:"name",disabled:!this.props.state.flag,style:{fontWeight:"bolder"},type:"text",value:this.props.state.name,required:!0,onChange:this.props.handleChange})),o.a.createElement("div",{className:"input-field"},o.a.createElement("p",{style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}},"Street"),o.a.createElement(C.a,{disabled:!this.props.state.flag,style:{fontWeight:"bolder"},type:"text",id:"street",value:this.props.state.street,required:!0,onChange:this.props.handleChange})),o.a.createElement("div",{className:"input-field"},o.a.createElement("p",{style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}},"City"),o.a.createElement(C.a,{disabled:!this.props.state.flag,style:{fontWeight:"bolder"},type:"text",id:"city",value:this.props.state.city,required:!0,onChange:this.props.handleChange})),o.a.createElement("div",{className:"input-field"},o.a.createElement("p",{style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}},"Zip"),o.a.createElement(C.a,{disabled:!this.props.state.flag,style:{fontWeight:"bolder"},type:"text",id:"zip",value:this.props.state.zip,required:!0,onChange:this.props.handleChange})),o.a.createElement("div",{className:"input-field"},o.a.createElement("p",{style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}},"State"),o.a.createElement(C.a,{disabled:!this.props.state.flag,style:{fontWeight:"bolder"},type:"text",id:"state",value:this.props.state.state,required:!0,onChange:this.props.handleChange})),o.a.createElement("div",{className:"input-field"},o.a.createElement("p",{style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}},"Location"),o.a.createElement(C.a,{disabled:!this.props.state.flag,style:{fontWeight:"bolder"},type:"text",id:"location",value:this.props.state.location,required:!0,onChange:function(t){e.props.handleLatLng(t)}})),o.a.createElement("div",{className:"input-field"},o.a.createElement("p",{style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}},"Project Description"),o.a.createElement(C.a,{disabled:!this.props.state.flag,style:{fontWeight:"bolder"},type:"text",id:"projectDescription",value:this.props.state.projectDescription,required:!0,onChange:this.props.handleChange})),o.a.createElement("div",{className:"map"},o.a.createElement(_,{location:this.props.state.location,lat:this.props.state.lat,lng:this.props.state.lng,handleMarker:this.props.handleMarker,mode:this.props.state.flag?"edit":"view"}))))}}]),a}(i.Component),I=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:A.a.grid},o.a.createElement("h5",null,"Management"),o.a.createElement("form",{className:A.a.detForm,onSubmit:function(e){return e.preventDefault()}},o.a.createElement("div",{className:"input-field col s12"},o.a.createElement("p",{htmlFor:"name",style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}},"Timing"),o.a.createElement(C.a,{disabled:!this.props.state.flag,type:"date",id:"estimatestart",name:"trip-start",value:this.props.state.estimatestart,onChange:this.props.handleChange,style:{fontWeight:"bolder"}})),o.a.createElement("div",{className:"input-field col s12"},o.a.createElement(C.a,{disabled:!this.props.state.flag,type:"date",id:"estimatend",name:"trip-end",value:this.props.state.estimatend,onChange:this.props.handleChange,style:{fontWeight:"bolder"}})),o.a.createElement("div",{className:"input-field"},o.a.createElement("p",{style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}},"Cloud Space"),o.a.createElement(C.a,{disabled:!0,type:"text",id:"spaceUsed",placeholder:"Used",required:!0,style:{fontWeight:"bolder"}})),o.a.createElement("div",{className:"input-field"},o.a.createElement(C.a,{disabled:!0,style:{fontWeight:"bolder"},type:"text",id:"spaceLimit",placeholder:"Available",required:!0})),o.a.createElement("div",{className:"input-field"},o.a.createElement("p",{style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}}),o.a.createElement(d.a,{style:{margin:"5px 25px",fontSize:"10px",padding:"0 5px",width:"80%"}},"Request More Space")),o.a.createElement("div",{className:"input-field"},o.a.createElement("p",{style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}},"Users"),o.a.createElement(C.a,{placeholder:"Used",disabled:!0,style:{fontWeight:"bolder"},type:"text",id:"userUsed",required:!0})),o.a.createElement("div",{className:"input-field"},o.a.createElement(C.a,{disabled:!0,style:{fontWeight:"bolder"},type:"text",id:"userLimit",placeholder:"Available",required:!0})),o.a.createElement("div",{className:"input-field"},o.a.createElement("p",{style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}}),o.a.createElement(d.a,{style:{margin:"5px 25px",fontSize:"10px",padding:"0 5px",width:"80%"}},"Request More Users"),o.a.createElement("div",null,o.a.createElement("div",{className:A.a.usersList},o.a.createElement("p",{htmlFor:"name",style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}},"List of Users"),this.props.viewUser.map(function(e){return o.a.createElement("p",null,e.Name)})),"create-project"!==this.props.match.params.id&&o.a.createElement(d.a,{style:{margin:"15px 25px",fontSize:"10px",padding:"0 5px",width:"80%"},onClick:this.props.openModal},"Configure Users")))))}}]),a}(i.Component),U=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).getDate=function(e){return new Date(e).toString()},e}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:A.a.grid},o.a.createElement("h5",null,"Settings"),o.a.createElement("form",{className:A.a.detForm,onSubmit:function(e){return e.preventDefault()}},o.a.createElement("div",{className:"input-field col s12"},o.a.createElement("p",{htmlFor:"name",style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}},"Created by"),o.a.createElement(C.a,{id:"createdby",disabled:!0,style:{fontWeight:"bolder"},type:"text",value:this.props.state.createdby,required:!0,onChange:this.props.handleChange})),o.a.createElement("div",{className:"input-field"},o.a.createElement("p",{style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}},"Created at"),o.a.createElement(C.a,{disabled:!0,style:{fontWeight:"bolder"},type:"text",id:"createdad",value:this.getDate(this.props.state.createdAt),required:!0,onChange:this.props.handleChange})),o.a.createElement("div",{className:"input-field"},o.a.createElement("p",{style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}},"Last update"),o.a.createElement(C.a,{disabled:!0,style:{fontWeight:"bolder"},type:"text",id:"lastupdate",value:this.getDate(this.props.state.lastupdate),required:!0,onChange:this.props.handleChange})),o.a.createElement("div",{className:"input-field",style:{padding:"20px 0"}},o.a.createElement("span",{style:{margin:"25px 200px 0 0",padding:"0",fontSize:"12px"}},"Active"),o.a.createElement("span",null,this.props.state.active?"Active":"Not Active"),o.a.createElement("br",null),o.a.createElement(d.a,{disabled:!this.props.state.flag&&"create-project"!==this.props.match.params.id,style:{margin:"15px 25px",fontSize:"10px",padding:"0 5px",width:"80%"},onClick:this.props.handleActive},"Activate/Deactivate")),o.a.createElement("div",{className:"input-field",style:{padding:"20px 0",marginTop:"40px"}},o.a.createElement("span",{style:{margin:"25px 200px 0 0",padding:"0",fontSize:"12px"}},"Archive"),o.a.createElement("span",null,this.props.state.archive?"True":"False"),o.a.createElement("br",null),o.a.createElement(d.a,{style:{margin:"15px 25px",fontSize:"10px",padding:"0 5px",width:"80%"}},"Archive")),o.a.createElement("div",{className:"input-field",style:{padding:"20px 0",marginTop:"40px"}},o.a.createElement("span",{style:{margin:"25px 200px 0 0",padding:"0",fontSize:"12px"}},"Delete Project"),o.a.createElement("br",null),o.a.createElement(d.a,{style:{margin:"15px 25px",fontSize:"10px",padding:"0 5px",width:"80%"},onClick:this.props.deleteProject},"Delete"))))}}]),a}(i.Component),z=a(745),L=a.n(z),P=["diaryRule","documentationRule","rolesRule","projectRule"],W=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={edit:!0,showSetting:!1,currentRole:{},index:null},e.handleRole=function(t){var a,n=e.props.roles.filter(function(e,n){return a=n,e.roleName===t.value});e.setState(Object(h.a)(Object(h.a)({},e.state),{},{currentRole:n[0],showSetting:!0,edit:!0,indexOfCurrentRole:a}))},e.handleDeleteRole=function(){var t=e.state.currentRole.roleName;"ADMINISTRATOR"!==t&&"ORDINARY"!==t&&e.props.deleteRole(t,e.props.projectID)},e.handleAddNewRole=function(){var t=e.props.roles.filter(function(e){return"ORDINARY"===e.roleName});e.setState(Object(h.a)(Object(h.a)({},e.state),{},{currentRole:Object(h.a)(Object(h.a)({},t[0]),{},{roleName:"New Role"}),showSetting:!0,edit:!1}))},e.saveRole=function(){void 0!==e.state.currentRole.roleName&&(e.state.edit?e.props.handleUpdateRole(e.state.currentRole,e.props.projectID,e.state.indexOfCurrentRole):e.props.handleRole(e.state.currentRole,e.props.projectID))},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:A.a.rolesGrid},o.a.createElement("div",null,o.a.createElement("h5",{style:{margin:"0",padding:"0"}},"Users"),o.a.createElement("p",{style:{margin:"0 0 4px 0",padding:"0"}},"Configuration of Roles"),o.a.createElement("button",{className:"btn-det btn waves-effect",onClick:this.handleAddNewRole,style:{width:"90%",marginBottom:"14px"}},"Add New"),o.a.createElement("div",{className:A.a.usersList,style:{height:"300px"}},this.props.options.map(function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:A.a.defaultList,onClick:function(){return e.handleRole(t)}},t.label),o.a.createElement("hr",null))})),o.a.createElement("button",{className:"btn-det btn waves-effect",onClick:this.props.closeModal,style:{width:"90%",marginTop:"6px"}},"Close")),this.state.showSetting&&o.a.createElement("div",null,o.a.createElement("h5",{style:{margin:"0",padding:"0"}},"Roles Settings"),o.a.createElement("p",{style:{margin:"0",padding:"0"}},"Setting of Roles"),o.a.createElement("input",{id:"roleName",style:{fontWeight:"bolder",width:"60%"},type:"text",value:this.state.currentRole.roleName&&this.state.currentRole.roleName,required:!0,onChange:function(t){return e.setState(Object(h.a)(Object(h.a)({},e.state),{},{currentRole:Object(h.a)(Object(h.a)({},e.state.currentRole),{},{roleName:t.target.value})}))}}),this.state.edit?o.a.createElement("button",{className:"btn-det btn waves-effect",onClick:this.saveRole},"Update"):o.a.createElement("button",{className:"btn-det btn waves-effect",onClick:this.saveRole},"Save"),o.a.createElement("div",{className:A.a.usersList,style:{height:"300px"}},P.map(function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:A.a.defaultList},t,o.a.createElement("span",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("button",{className:"READ"===e.state.currentRole[t]?"btn-det-yellow btn waves-effect ":"btn-det btn waves-effect",onClick:function(){e.setState(Object(h.a)(Object(h.a)({},e.state),{},{currentRole:Object(h.a)(Object(h.a)({},e.state.currentRole),{},Object(u.a)({},t,"READ"))}))},style:{margin:"6px 0",borderRadius:"5px 0px 0px 5px",backgroundColor:"red"}},"Read"),o.a.createElement("button",{className:"WRITE"===e.state.currentRole[t]?"btn-det-yellow btn waves-effect":"btn-det btn waves-effect",onClick:function(){e.setState(Object(h.a)(Object(h.a)({},e.state),{},{currentRole:Object(h.a)(Object(h.a)({},e.state.currentRole),{},Object(u.a)({},t,"WRITE"))}))},style:{margin:"6px 0",borderRadius:"0"}},"Write"),o.a.createElement("button",{className:"DISABLE"===e.state.currentRole[t]?"btn-det-yellow btn waves-effect":"btn-det btn waves-effect",onClick:function(){e.setState(Object(h.a)(Object(h.a)({},e.state),{},{currentRole:Object(h.a)(Object(h.a)({},e.state.currentRole),{},Object(u.a)({},t,"DISABLE"))}))},style:{margin:"6px 0",borderRadius:"0px 5px 5px 0px"}},"Disable"))),o.a.createElement("hr",null))})),this.state.edit&&o.a.createElement("button",{className:"btn-det btn waves-effect",onClick:this.handleDeleteRole,style:{width:"90%",marginTop:"6px"}},"Delete")))}}]),a}(i.Component),q=Object(c.c)(null,{handleRole:y.j,handleUpdateRole:y.k,deleteRole:y.e})(W),T=a(876),F=a.n(T),G=(a(877),a(878)),Y=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).componentDidMount=function(){e.setState(Object(h.a)(Object(h.a)({},e.state),{},{user:e.props.viewUser.map(function(t){return{uservalue:Object(h.a)({},t),selectedOption:e.getRole(t)}}),options:e.getOptions()}))},e.getRole=function(t){var a=e.props.roles.filter(function(e){return e.usersID.includes(t.ID)});return a[0]?a[0].roleName:null},e.getOptions=function(){var t=[];return e.props.roles.map(function(e){return t.push(e.roleName)}),t.map(function(e){return{value:e,label:e}})},e.state={isOpen:!1,email:"",selectedOption:null,user:[]},e.openModal=function(){e.setState(Object(h.a)(Object(h.a)({},e.state),{},{isOpen:!0}))},e.handleChange=function(t,a){if(t.value!==e.state.user[a].selectedOption){var n=e.state.user.map(function(e,n){return a===n?Object(h.a)(Object(h.a)({},e),{},{selectedOption:t.value}):e}),r=e.props.roles.filter(function(e){return e.roleName===t.value}),l=e.state.user[a].uservalue.ID;e.setState(Object(h.a)(Object(h.a)({},e.state),{},{user:n})),e.props.changeUserRole(r[0],l,e.props.projectID)}},e.closeModal=function(){e.setState(Object(h.a)(Object(h.a)({},e.state),{},{isOpen:!1}))},e.addUser=function(t){""!==e.state.email&&e.props.handleAddUser(e.state.email,e.props.projectID)},e.handleDelete=function(t){e.props.deleteUserFromProject(t,e.props.projectID)},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"460px"}},o.a.createElement("span",null,o.a.createElement("h5",{style:{margin:"0",padding:"0"}},"Users"),o.a.createElement("p",{style:{margin:"0",padding:"0"}},"Configuration of Users and their Roles"),o.a.createElement("p",{htmlFor:"name",style:{margin:"25px 0 0 0",padding:"0",fontSize:"12px"}},"New User Email"),o.a.createElement("div",{className:"input-field",style:{width:"100%",marginTop:"0"}},o.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},o.a.createElement("span",null,o.a.createElement(C.a,{id:"email",style:{fontWeight:"bolder",width:"60%"},type:"email",value:this.state.email,required:!0,onChange:function(t){return e.setState(Object(h.a)(Object(h.a)({},e.state),{},{email:t.target.value}))}})),o.a.createElement(d.a,{type:"submit",onClick:this.addUser},"Add User"),o.a.createElement(d.a,{onClick:this.openModal},"Configure Roles"))),o.a.createElement("div",{className:A.a.usersList,style:{height:"240px"}},this.state.user&&this.state.user.map(function(t,a){return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:A.a.defaultList},t.uservalue.Name,o.a.createElement("span",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(F.a,{options:e.state.options&&e.state.options,onChange:function(t){return e.handleChange(t,a)},value:t.selectedOption,placeholder:"Select an option",className:"dropdown"}),o.a.createElement("span",{style:{color:"#c4302b",marginLeft:"4px"},onClick:function(){return e.handleDelete(t.uservalue.ID)}},o.a.createElement(g.Icon,{size:24,icon:G.cross})))),o.a.createElement("hr",null))}),this.props.pendingRegistrations.map(function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("p",{className:A.a.defaultList},t," (Pending Registation)")," ",o.a.createElement("span",{style:{color:"#c4302b",marginLeft:"4px"}},o.a.createElement(g.Icon,{size:24,icon:G.cross,onClick:function(){return e.props.deleteEmailFromPenReg(t,e.props.projectID)}}))),o.a.createElement("hr",null))}))),o.a.createElement(d.a,{onClick:this.props.closeModal},"Close")),o.a.createElement(L.a,{isOpen:this.state.isOpen,onRequestClose:this.closeModal,className:A.a.ModalRoles,overlayClassName:"Overlay",shouldCloseOnOverlayClick:!0},o.a.createElement(q,{roles:this.props.roles,options:this.state.options,closeModal:this.closeModal,projectID:this.props.projectID})))}}]),a}(i.Component),B=Object(c.c)(null,{handleAddUser:y.i,changeUserRole:y.a,deleteUserFromProject:y.f,deleteEmailFromPenReg:y.c})(Y),H=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state=Object(h.a)({},f),e.componentDidMount=function(){"create-project"===e.props.match.params.id?e.setState(Object(h.a)(Object(h.a)({},e.state),{},{createdby:e.props.profile.Name,flag:!0,viewUser:[],pendingRegistrations:[]})):e.props.getThisProject(e.props.id)},e.componentDidUpdate=function(t){e.props.project!==t.project&&e.setState(Object(h.a)(Object(h.a)({},e.props.project),{},{viewUser:e.props.viewUser}))},e.handleEdit=function(){"WRITE"===e.props.project.roles.filter(function(t){return t.usersID.includes(e.props.profile.ID)})[0].projectRule?e.setState(Object(h.a)(Object(h.a)({},e.state),{},{flag:!0})):m.a.error({message:"You are not Authorized to Edit Project !"})},e.handleChange=function(t){e.setState(Object(u.a)({},t.target.id,t.target.value))},e.handleSubmit=function(){""!==e.state.name&&""!==e.state.city&&""!==e.state.street&&""!==e.state.zip&&""!==e.state.state&&""!==e.state.location&&""!==e.state.projectDescription&&""!==e.state.createdby?(O(e.state,e.props.match,e.props.createProject,e.props.updateProject,e.props.history,e.props.profile),e.setState({flag:!1})):alert("Please Fill in All Details")},e.handleDeleteProject=function(){"create-project"!==e.props.match.params.id&&e.props.project.userID===e.props.profile.ID&&(e.props.deleteProject(e.props.project.ID),e.props.history.push("/list"))},e.handleLatLng=function(t){e.setState(Object(h.a)(Object(h.a)({},e.props.state),{},{lat:"",lng:""})),e.handleChange(t)},e.handleActive=function(){e.setState(Object(h.a)(Object(h.a)({},e.state),{},{active:!e.state.active}))},e.openModal=function(){"WRITE"===e.props.project.roles.filter(function(t){return t.usersID.includes(e.props.profile.ID)})[0].rolesRule?e.setState(Object(h.a)(Object(h.a)({},e.state),{},{isOpen:!0})):m.a.error({message:"You are not Authorized to configure Users !"})},e.closeModal=function(){e.setState(Object(h.a)(Object(h.a)({},e.state),{},{isOpen:!1}))},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.profile;if(!a.uid)return o.a.createElement(p.a,{to:"/signin"});if(!n.isEmpty&&"create-project"!==this.props.match.params.id&&!n.projects.includes(this.props.id))return o.a.createElement(p.a,{to:"/dashboard/list"});return this.props.loading?o.a.createElement(v.a,null):o.a.createElement("div",null,o.a.createElement("div",{className:"dashboard container"},o.a.createElement("div",{className:A.a.projectMainHomeNav},o.a.createElement("div",{style:{position:"absolute",top:"70px",left:"20px",color:"#fbd800"},onClick:function(){return e.props.history.goBack()}},o.a.createElement(g.Icon,{size:54,icon:b.arrowLeft2})),this.state.name?o.a.createElement("h4",null,"Construction of ".concat(this.state.name)):o.a.createElement("h4",null,"Projects Details"),this.state.flag?o.a.createElement("span",null,o.a.createElement(d.a,{onClick:this.handleSubmit},"create-project"===this.props.match.params.id?"Save":"Update")):o.a.createElement("span",null,o.a.createElement(d.a,{onClick:this.handleEdit},"Edit"))),o.a.createElement("hr",null)),o.a.createElement("div",{className:A.a.detailsGridWrapper},o.a.createElement(M,{state:this.state,handleChange:this.handleChange,handleMarker:function(t,a){x(t,a,e.state).then(function(n){return e.setState(Object(h.a)(Object(h.a)({},e.state),{},{lng:a,lat:t,street:n.street,state:n.adminArea3,zip:n.postalCode,city:n.adminArea5,location:"".concat(n.street," ").concat(n.adminArea5)}))}).catch(function(e){return console.log(e)})},handleLatLng:this.handleLatLng}),o.a.createElement(I,{state:this.state,handleChange:this.handleChange,viewUser:this.state.viewUser,openModal:this.openModal,match:this.props.match}),o.a.createElement(U,{state:this.state,handleChange:this.handleChange,handleActive:this.handleActive,deleteProject:this.props.handleDeleteProject,match:this.props.match})),o.a.createElement(L.a,{isOpen:this.state.isOpen,onRequestClose:this.closeModal,className:A.a.Modal,overlayClassName:"Overlay",shouldCloseOnOverlayClick:!0},o.a.createElement(B,{closeModal:this.closeModal,viewUser:this.state.viewUser,pendingRegistrations:this.state.pendingRegistrations,userID:this.props.profile.ID,projectID:this.props.project.ID,roles:this.props.project.roles,definedRoles:this.props.project.definedRoles})))}}]),a}(i.Component),Z=Object(c.c)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,projects:e.project.projects,project:e.project.project,loading:e.project.loading,viewUser:e.project.viewUser}},{updateProject:y.m,getThisProject:y.h,createProject:y.b,deleteProject:y.d})(H),K=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return this.props.auth.uid?o.a.createElement(Z,Object.assign({id:this.props.match.params.id},this.props)):o.a.createElement(p.a,{to:"/user/login"})}}]),a}(i.Component);t.default=Object(c.c)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,projects:e.project.projects}})(K)}}]);
//# sourceMappingURL=11.211fa52f.chunk.js.map